<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="dao.TimeLineDao">

	<resultMap type="Board" id="BoardMap">
					<result column="BOARD_NO" property="boardNo" />
					<result column="CONTENT" property="content" />
					<result column="IMAGE_URL" property="imageUrl" />
					<result column="REGIST_DATE" property="registDate" />
					<result column="UPDATE_DATE" property="updateDate" />
					<result column="YOUTUBE_URL" property="youtubeUrl" />
					<result column="USER_NO" property="userNo" />
	</resultMap>  
	
	<resultMap type="Reply" id="ReplyMap">
					<result column="REPLY_NO" property="replyNo" />
					<result column="CONTENT" property="content" />
					<result column="REGIST_DATE" property="registDate" />
					<result column="UPDATE_DATE" property="updateDate" />
					<result column="BOARD_NO" property="boardNo" />
					<result column="USER_NO" property="userNo" />
	</resultMap> 
	
	
	<select id="selectReplyList" resultMap="ReplyMap">
		SELECT
			REPLY_NO,
			CONTENT,
			REGIST_DATE,
			UPDATE_DATE,
			BOARD_NO,
			USER_NO
		FROM REPLY
		WHERE BOARD_NO = ${value}
	</select>



	<select id="selectBoardList" resultMap="BoardMap">
		SELECT
		BOARD_NO,
		CONTENT,
		IMAGE_URL,
		REGIST_DATE,
		UPDATE_DATE,
		YOUTUBE_URL,
		USER_NO
		FROM BOARD
		ORDER BY BOARD_NO DESC
		LIMIT 5 OFFSET ${value}
	</select>

	<insert id="insertBoard" parameterType="Board">
	  INSERT INTO BOARD (
		  CONTENT,
		  IMAGE_URL,
			YOUTUBE_URL,
			REGIST_DATE,
			UPDATE_DATE,
			USER_NO
	  )
 		values (
	 		#{content}, 
	 		#{imageUrl}, 
	 		#{youtubeUrl}, 
	 		#{registDate}, 
	 		#{updateDate},
	 		#{userNo}
 		)
	
	</insert>
	
	<insert id="insertReply"  parameterType="Reply">
	  INSERT INTO REPLY (
		  CONTENT,
			REGIST_DATE,
			UPDATE_DATE,
			BOARD_NO,
			USER_NO
	  )
 		values (
	 		#{content}, 
	 		#{registDate}, 
	 		#{updateDate},
	 		#{boardNo},
	 		#{userNo}
 		)

	
	</insert>

</mapper>